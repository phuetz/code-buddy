<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#3498db"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#2ecc71"/>
    </marker>
  </defs>

  <rect width="900" height="600" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Format d'Ã‰change API (Chat Completions)</text>

  <!-- Client -->
  <rect x="30" y="70" width="140" height="100" rx="10" fill="#1e3a5f" stroke="#3498db" stroke-width="2"/>
  <text x="100" y="110" text-anchor="middle" fill="#3498db" font-family="Arial, sans-serif" font-size="14" font-weight="bold">CLIENT</text>
  <text x="100" y="130" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">Application</text>
  <text x="100" y="145" text-anchor="middle" fill="#a0a0a0" font-family="Arial, sans-serif" font-size="9">Node.js / Python</text>
  <text x="100" y="160" text-anchor="middle" fill="#a0a0a0" font-family="Arial, sans-serif" font-size="9">/ curl</text>

  <!-- LLM API -->
  <rect x="730" y="70" width="140" height="100" rx="10" fill="#1e3a5f" stroke="#2ecc71" stroke-width="2"/>
  <text x="800" y="110" text-anchor="middle" fill="#2ecc71" font-family="Arial, sans-serif" font-size="14" font-weight="bold">LLM API</text>
  <text x="800" y="130" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">OpenAI / Claude</text>
  <text x="800" y="145" text-anchor="middle" fill="#a0a0a0" font-family="Arial, sans-serif" font-size="9">Ollama / vLLM</text>

  <!-- Request arrow -->
  <line x1="170" y1="100" x2="720" y2="100" stroke="#3498db" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="450" y="90" text-anchor="middle" fill="#3498db" font-family="Arial, sans-serif" font-size="11">POST /v1/chat/completions</text>

  <!-- Response arrow -->
  <line x1="720" y1="140" x2="170" y2="140" stroke="#2ecc71" stroke-width="2" marker-end="url(#arrowGreen)"/>
  <text x="450" y="158" text-anchor="middle" fill="#2ecc71" font-family="Arial, sans-serif" font-size="11">JSON Response (ou stream)</text>

  <!-- Request structure -->
  <rect x="30" y="200" width="400" height="380" rx="10" fill="#0a0a1a" stroke="#3498db" stroke-width="2"/>
  <text x="230" y="225" text-anchor="middle" fill="#3498db" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ðŸ“¤ REQUÃŠTE</text>

  <!-- Request JSON -->
  <text x="50" y="255" fill="#f39c12" font-family="monospace" font-size="11">{</text>
  <text x="60" y="275" fill="#9b59b6" font-family="monospace" font-size="11">"model"</text>
  <text x="125" y="275" fill="#fff" font-family="monospace" font-size="11">: "gpt-4o",</text>
  <text x="60" y="295" fill="#9b59b6" font-family="monospace" font-size="11">"messages"</text>
  <text x="145" y="295" fill="#fff" font-family="monospace" font-size="11">: [</text>

  <!-- System message -->
  <rect x="70" y="305" width="340" height="50" rx="4" fill="#2a2a4a"/>
  <text x="80" y="325" fill="#e74c3c" font-family="monospace" font-size="10">{ "role": "system",</text>
  <text x="80" y="345" fill="#2ecc71" font-family="monospace" font-size="10">  "content": "Tu es un assistant..." }</text>

  <!-- User message -->
  <rect x="70" y="365" width="340" height="50" rx="4" fill="#2a2a4a"/>
  <text x="80" y="385" fill="#3498db" font-family="monospace" font-size="10">{ "role": "user",</text>
  <text x="80" y="405" fill="#2ecc71" font-family="monospace" font-size="10">  "content": "Lis config.json" }</text>

  <text x="60" y="430" fill="#fff" font-family="monospace" font-size="11">],</text>
  <text x="60" y="450" fill="#9b59b6" font-family="monospace" font-size="11">"tools"</text>
  <text x="110" y="450" fill="#fff" font-family="monospace" font-size="11">: [...],</text>
  <text x="60" y="470" fill="#9b59b6" font-family="monospace" font-size="11">"temperature"</text>
  <text x="160" y="470" fill="#fff" font-family="monospace" font-size="11">: 0.7,</text>
  <text x="60" y="490" fill="#9b59b6" font-family="monospace" font-size="11">"max_tokens"</text>
  <text x="155" y="490" fill="#fff" font-family="monospace" font-size="11">: 2048,</text>
  <text x="60" y="510" fill="#9b59b6" font-family="monospace" font-size="11">"stream"</text>
  <text x="125" y="510" fill="#fff" font-family="monospace" font-size="11">: true</text>
  <text x="50" y="530" fill="#f39c12" font-family="monospace" font-size="11">}</text>

  <!-- Response structure -->
  <rect x="470" y="200" width="400" height="380" rx="10" fill="#0a0a1a" stroke="#2ecc71" stroke-width="2"/>
  <text x="670" y="225" text-anchor="middle" fill="#2ecc71" font-family="Arial, sans-serif" font-size="14" font-weight="bold">ðŸ“¥ RÃ‰PONSE</text>

  <!-- Response JSON -->
  <text x="490" y="255" fill="#f39c12" font-family="monospace" font-size="11">{</text>
  <text x="500" y="275" fill="#9b59b6" font-family="monospace" font-size="11">"id"</text>
  <text x="530" y="275" fill="#fff" font-family="monospace" font-size="11">: "chatcmpl-123",</text>
  <text x="500" y="295" fill="#9b59b6" font-family="monospace" font-size="11">"model"</text>
  <text x="555" y="295" fill="#fff" font-family="monospace" font-size="11">: "gpt-4o",</text>
  <text x="500" y="315" fill="#9b59b6" font-family="monospace" font-size="11">"choices"</text>
  <text x="570" y="315" fill="#fff" font-family="monospace" font-size="11">: [{</text>

  <!-- Assistant message -->
  <rect x="510" y="325" width="340" height="90" rx="4" fill="#2a2a4a"/>
  <text x="520" y="345" fill="#9b59b6" font-family="monospace" font-size="10">"message": {</text>
  <text x="530" y="365" fill="#f39c12" font-family="monospace" font-size="10">"role": "assistant",</text>
  <text x="530" y="385" fill="#2ecc71" font-family="monospace" font-size="10">"content": "Le fichier..."</text>
  <text x="530" y="405" fill="#3498db" font-family="monospace" font-size="10">"tool_calls": [...]</text>

  <text x="500" y="430" fill="#fff" font-family="monospace" font-size="11">}],</text>
  <text x="500" y="450" fill="#9b59b6" font-family="monospace" font-size="11">"usage"</text>
  <text x="555" y="450" fill="#fff" font-family="monospace" font-size="11">: {</text>
  <text x="510" y="470" fill="#a0a0a0" font-family="monospace" font-size="10">"prompt_tokens": 85,</text>
  <text x="510" y="490" fill="#a0a0a0" font-family="monospace" font-size="10">"completion_tokens": 128,</text>
  <text x="510" y="510" fill="#a0a0a0" font-family="monospace" font-size="10">"total_tokens": 213</text>
  <text x="500" y="530" fill="#fff" font-family="monospace" font-size="11">}</text>
  <text x="490" y="550" fill="#f39c12" font-family="monospace" font-size="11">}</text>

  <!-- Roles legend at bottom -->
  <rect x="100" y="555" width="700" height="35" rx="6" fill="#0a0a1a" opacity="0.7"/>
  <text x="120" y="578" fill="#e74c3c" font-family="Arial, sans-serif" font-size="11" font-weight="bold">system</text>
  <text x="180" y="578" fill="#a0a0a0" font-family="Arial, sans-serif" font-size="10">Instructions</text>
  <text x="290" y="578" fill="#3498db" font-family="Arial, sans-serif" font-size="11" font-weight="bold">user</text>
  <text x="330" y="578" fill="#a0a0a0" font-family="Arial, sans-serif" font-size="10">Question</text>
  <text x="430" y="578" fill="#f39c12" font-family="Arial, sans-serif" font-size="11" font-weight="bold">assistant</text>
  <text x="505" y="578" fill="#a0a0a0" font-family="Arial, sans-serif" font-size="10">RÃ©ponse</text>
  <text x="600" y="578" fill="#2ecc71" font-family="Arial, sans-serif" font-size="11" font-weight="bold">tool</text>
  <text x="635" y="578" fill="#a0a0a0" font-family="Arial, sans-serif" font-size="10">RÃ©sultat outil</text>
</svg>